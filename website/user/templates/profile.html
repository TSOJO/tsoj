{% extends "base.html" %}

{% block title %}{{user.username}}{% endblock %}

{% block content %}
<div class="card mb-3">
    <div class="card-body">
        <h1 class="card-title">{{user.username}}</h1>
        <p class="card-text">{{user.full_name}}</p>
    </div>
</div>
<hr>
<h4>A member of:</h4>
<div class="d-flex mb-3" style="gap: 10px;">
    {% if user.is_admin() %}
    <div class="card mb-3 user-group-text admin-text">
        <b class="card-text">Admin</b>
    </div>
    {% elif user.is_contributor() %}
    <div class="card mb-3 user-group-text contributor-text">
        <b class="card-text">Contributor</b>
    </div>
    {% endif %}
    {% for user_group in self_user_groups %}
    <div class="card mb-3 user-group-text">
        <p class="card-text">{{user_group.name}}</p>
    </div>
    {% else %}
    {% if not user.is_admin() and not user.is_contributor() %}
    <p>No groups found.</p>
    {% endif %}
    {% endfor %}
</div>
<hr>
<div class="mb-3">
    <h4>Problems</h4>
</div>
<div class="d-flex flex-wrap" style="gap:20px;">
    {% for problem in problems %}
    {% if problem.is_public %}
    <div class="col-sm-1 border rounded-1 d-flex justify-content-evenly align-items-center" style="height:50px;">
        <a href="{{url_for('problem_bp.problem', id=problem.id)}}" class="text-decoration-none">{{problem.id}}</a>
        {% if problem.id in solved_problem_ids %}
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#198754" class="bi bi-check-circle-fill"
            viewBox="0 0 16 16">
            <path
                d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z" />
        </svg>
        {% else %}
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#6C757D" class="bi bi-dash-circle-fill"
            viewBox="0 0 16 16">
            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1h-7z" />
        </svg>
        {% endif %}
    </div>
    {% endif %}
    {% endfor %}
</div>
{% endblock %}